{
  "qgis_tutorial" : [
    {
      "id": "qgis_example",
      "others": ["//maps.csr.ufmg.br/calculator/?queryid=173&storeurl=https://raw.githubusercontent.com/asfixia/imoveisBH3/master/&zoomlevels=13&remotemap=GH:bairro;1,GH:circulacao_viarialine;1,GH:ponto_onibus;1", "160"],
      "iframe": "https://maps.csr.ufmg.br/calculator/?queryid=188&extent=-443.628,-16.847,-407.373,3.294&tools=helpintro,layerchooser,zoomextent,customzoom,getfeature,hovershowlegend&options=hidestylechooser,enablequeries&visiblelayers=-1",
      "featured-img": "/icons/icons8-classroom-30.png",
      "title": "Showing an example",
      "javascript": "",
      "html": "You can share online maps easily.\nThe following platform link is: <a href='https://maps.csr.ufmg.br/calculator/?queryid=188&extent=-443.628,-16.847,-407.373,3.294&tools=helpintro,layerchooser,zoomextent,customzoom,getfeature,hovershowlegend&options=hidestylechooser,enablequeries&visiblelayers=-1'>https://maps.csr.ufmg.br/calculator/?queryid=188</a> and the data is stored on github: <a target='_blank' href='https://github.com/asfixia/Mappia_Example_d'>https://github.com/asfixia/Mappia_Example_d</a>."
    },
    {
      "id": "qgis_tutorial",
      "iframe": "",
      "featured-img": "/icons/icons8-statistics-30.png",
      "title": "Video tutorial + Publication steps",
      "jsfiddle": "https://jsfiddle.net/kdt8f2qg/3/",
      "javascript" : "window.Youtube.addCallback(function () {\n    window.player = new YT.Player('mappia_usage_vid', {\n        videoId: 'TAqVavBBsME',\n        playerVars: {\n            modestbranding: 0,\n            autoplay: 1,\n            controls: 0,\n            showinfo: 0,\n            mute: 1,\n            wmode: 'opaque',\n            loop: 0,\n            branding: 0,\n            rel: 0,\n            autohide: 0\n        },\n        events: {\n            onReady: function onPlayerReady(event) {\n                setInterval(function (){\n                    var current_time = event.target.getCurrentTime();\n                    for (var i = 0; i < markups.length - 1; i++) {\n                        if (markups[i + 1][1] > current_time) {break;}\n                    }\n                    var children = document.getElementById(\"mappia_video_topics\").children;\n                    for (var iC = 0; iC < children.length; iC++) children[iC].setAttribute('playing', iC == i ? 'true' : '');\n                }, 1000);\n            }\n        }\n    });\n});\n\nvar markups = [\n['Install the Mappia plugin.', 0],\n['Open the plugin \\'Mappia Publisher\\'.', 13],\n['Plugin parameters details.', 25],\n['Plugin usage example.', 36],\n['Log in to Github site and accept temporary permissions.', 50],\n['Publication proccess explained (waiting).', 75],\n['The result is Open in Browser.', 90],\n['Customize by visual editor or code', 101],\n['Interaction example: Pickpoint e Combobox.', 120],\n['Interaction example: Slider.', 135],\n['Interaction example: Textfield.', 145],\n['Sharing by link or embedding into a site.', 148],\n['Some platforms created with \\'Mappia\\'.', 166],\n['Documentation API overview.', 194]\n];\n\nvar markupList = [];\nfor (var i = 0; i < markups.length; i++) {\n    markupList.push(\"<li><a data-timer='\"+markups[i][1]+\"' href='javascript:window.player.seekTo(\"+markups[i][1]+\");'>\"+markups[i][0]+\" (\" + markups[i][1]+ \"s)</a></li>\");\n}\ndocument.getElementById(\"mappia_video_topics\").innerHTML = markupList.join(\"\");",
      "html": "<div id='github_link_div'></div><div id='mappia_wrapper'><h4>List of video topics:</h4><ul id='mappia_video_topics'></ul><div style='width: 960px; height: 540px;' id='mappia_usage_vid'></div></div>\n<script type='text/javascript'>debugger; var pathname = window.location.href;\nif (pathname.indexOf('github_callback') != -1) {\n  alertify.alert('Credentials validated and publication authorized!', 'Please, check back in QGIS if process is runing or waiting for your confirmation.\n<br>The publication can take some time, meanwhile take a look at Mappia examples and API. <img src=\"/assets/img/custom/qgis_continue_yes.png\"/>', function(){});\n  if (pathname.indexOf('github_callback') != -1) {var repoLink = pathname.substr(pathname.indexOf('github_callback') + 'github_callback'.length + 1); document.getElementById('github_link_div').innerHTML = 'The repository link for your maps are: <a href=\"' + repoLink + '\">' + repoLink + '</a>';\n}}</script><h3>How the publication works?</h3>\n\n<div>\n<p>\nWe will explain how it works and give details about each parameter. This service is possible to divide in three main components: <qgis><a href='#qgis_rendering'>QGIS</a></qgis> for Map rendering, <gh><a href='#gh_storage'>GitHub</a></gh> for File Storage and <mappia><a href='#mappia_display'>Mappia</a></mappia> for integration and display results.\n</p>\n<h4 id='qgis_rendering'><qgis>QGIS</qgis> for Map rendering:</h4>\n<p>\nThis step consists of mainly generate tiles (tiles are graphical representation of a small part of the map) for displaying online on a range of <a href=\"#qigs_parm_zoom_level\">zoom levels</a>. On each given position and scale one tile is displayed, and all put together create the visualization of the map. The style of the map is the same shown on QGIS, so you can define the map style as you want in QGIS and view it online.<br>\nThe plugin developped in QGIS will generate the tiles and upload it to GitHub.\n</p>\n<h4 id='gh_storage'><gh>GitHub</gh> for File Storage:</h4>\n<p>\nThis step is mainly about authenticate the file storage. The GitHub is a free online repository where we put the tiles, map metadata, legends and any other information about the maps.<br>\nTo communicate with GitHub a '<a href='#qgis_git_client'>Git client</a>' is mandatory, this client consists of a program that implements the protocol of message exchange with their server.\nThe repository is a place where all the data is stored, it is idenfied by a combination of a '<a href='#qgis_repository_name'>Repository name</a>' and an '<a href='#qgis_repository_username'>Username</a>'. The repository can be accessed in replacing https://github.com/USERNAME/REPOSITORY_NAME the upercase words for their respective values.<br>\nThe data stored in GitHub is fully of the control of the account owner, the mappia has no control of it. You can publish, delete, edit your data without any control or responsability of mappia.\n</p>\n<h4 id='mappia_display'><mappia>Mappia</mappia> for integration and results display:</h4>\n<p>\nMappia offer a free service to display maps over the internet for free (like WMS or WTS) and customization advantages, it integrate the QGIS generated tiles stored on GitHub. This platform allows the complete maps customization by our easy to use interface or directly by javascript code. It is very usefull for educational purposes, colaborative maps, free maps share or even for projetcs of all kinds.<br>\nIt identify all maps in GitHub repositories and allows the user to display them in many customized ways using our many predefined elements and interactions descibred in this site <a target='_blank' href='https://mappia.eath'>mappia.earth</a>. To display the maps the platform just loads the tile that fits on each position of the world directly from the GitHub. This little detail, allows us to work even without a private server.<br>\nThe user can even share his source maps (Github has a 2GB Map limit size), this is controlled by parameter '<a href='#qgis_upload_maps'>Upload maps</a>', and the others users can easily download directly on the platform.\n</p>\n<h4>Parameter details:</h4>\n<ul>\n<li id='qigs_parm_zoom_level'><b>Zoom levels</b>: Determine the maximum map details scale.<br>* For each increased zoom/\"detail level\" the publication time doubles.<br>* The zoom level 9 is recommended for most cases, depends on how much details your map needs <a target='_blank' href='https://wiki.openstreetmap.org/wiki/Zoom_levels'>[1]</a>.</li>\n<li id='qgis_repository_name'><b>Repository Name:</b>: Define the name of the repository to store the map files.</li>\n<li id='qgis_git_client'><b>Git Client</b>: The git parameter must be the path of the git executable. If not defined the plugin will download it automatically (windows only for now). The git client can be downloaded at <a href=\"https://git-scm.com/downloads\">https://git-scm.com/downloads</a>.</li>\n<li id='qgis_upload_maps'><b>Upload maps for further download</b>: The Github allows to upload binary files but these files are limited to 2GB. We generate a Zip for all map associated files and upload this zip to the release section on the GitHub repository</li>\n<li id='qgis_repository_username'><b>Username:</b>: To use this service you need to create a account at <a target='_blank' href='https://github.com'>github</a> and use this account on out qgis plugin.</li>\n</ul>\n</div>"
    },
    {
      "id": "qgis_customizations",
      "iframe": "",
      "iframe2": "https://maps.csr.ufmg.br/editor/?queryid=188&extent=-443.628,-16.847,-407.373,3.294&tools=helpintro,layerchooser,zoomextent,customzoom,getfeature,hovershowlegend&options=hidestylechooser,enablequeries&visiblelayers=-1",
      "featured-img": "/icons/icons8-map-editing-30.png",
      "title": "Share and customize your project",
      "javascript": "",
      "html": "<h3>Share and customize your project</h3>\n\n<div><p> The maps you published can be <mappia>shared by link</mappia> or even <mappia>embed in sites</mappia> like we embedded on the <a target=\"_blank\" href=\"https://csr.ufmg.br/amazones/\">AMAZONES</a> project. You can customize all the aspects: the layout, the maps information, the legends and even create interesting interactions. We have our platform <a target=\"_blank\" href=\"https://mappia.earth/documentation/\">fully documented with working examples</a>.<br>All the platforms created in Mappia have an <mappia>editor mode</mappia>, and can b</p><h4>Share project by <mappia>link</mappia> or <mappia>embed</mappia> into a site:</h4><p> At the end of publication the '<mappia>Mappia</mappia> Publisher' (<qgis>QGIS</qgis> plugin) generate and open a browser window with a link with all maps that were published. To share <mappi>by link</mappi> is simple, anyone that you share the link can view the platform and interact with your maps.<br> To embed this platform in your site you can incorporate by copy paste the following HTML code, copy paste this code on your site HTML will incorporate a platform, just replace the 'src' url to the desired platform (HTML code):<br> <code> &lt;iframe src=\"//maps.csr.ufmg.br/calculator/?&amp;queryid=19 width=\"100%\" height=\"600\"&gt;&lt;/iframe&gt;</code></p><h4><mappia>Edit</mappia> any platform:</h4><p> Just edit or view a platform code just change the link url from '/calculator/' to '/editor/'. For example the:<br>The platform : <a target=\"_blank\" href=\"https://maps.csr.ufmg.br/calculator/?queryid=188\">https://maps.csr.ufmg.br/<mappia>calculator</mappia>/?queryid=188</a> <br>can be Edited: <a target=\"_blank\" href=\"https://maps.csr.ufmg.br/editor/?queryid=188\">https://maps.csr.ufmg.br/<mappia>editor</mappia>/?queryid=188</a> .<br>This project is focused on colaborative work, and was design to grant easy access and map sharing for all the comunity.<br>Take a look into our <a target=\"_blank\" href=\"https://mappia.earth/documentation/\">complete documentation</a> customization and combine maps from WMS/WMT/GitHub Repository, with no additional limitations.</p></div>"
    },
    {
      "id": "qgis_faq",
      "iframe": "",
      "featured-img": "/icons/icons8-faq-30.png",
      "title": "QGIS + Mappia FAQ",
      "javascript": "",
      "html": "<h3>\nFrequently asked questions.\n</h3>\n\n<ul>\n<li>How the plugin works?<br><response>View on this tutorial <a href=\"#qgis_tutorial\">How the publication works?</a></response></li>\n<li>What is the map size limit?<br><respose>The maximum size is 2Gb. This is limited by the <a target='_blank' href=\"https://help.github.com/en/github/managing-large-files/distributing-large-binaries\">GitHub documentation</a>.</respose></li>\n<li>I keep the control of my file maps?<br>Of course, you can upload, delete, edit on your own desire we just display it when maps are on your repository.</li>\n<li>What are the costs?<br><response>From Mappia, its all free of charge!</response></li>\n<li>There are plugins for others softwares?<br> soon, for <a target='_blank' href='http://www.csr.ufmg.br/dinamica'>Dinamica EGO</a> but not yet.</li>\n<li>What are the legal responsabilities?<br><response>We just offer the service, the usage and the data delivered on it is of the entire responsability of each user.</response></li>\n<li>How do you profit?<br><response>We just want to spread the usage of this platform, we use Mappipa to spread our (<a target='_blank' href='https://csr.ufmg.br/csr'>csr.ufmg.br/csr</a>) research results.</response></li>\n</ul>"
    }
  ]
}
